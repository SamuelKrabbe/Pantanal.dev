server:
    port: 8080

spring:
    application.name: api-gateway
    cloud:
        gateway:
            routes:
                - id: socialactions-service
                  uri: lb://SOCIALACTIONS-SERVICE
                  predicates:
                    - Path=/socialactions
                - id: socialactions-service
                  uri: lb://SOCIALACTIONS-SERVICE
                  predicates:
                    - Path=/socialactions/**
                  filters:
                    - RewritePath=/socialactions/(?<id>.*), /socialactions/$\{id}
                    
    security:
        oauth2:
            resourceserver:
                jwt:
                    issuer-uri: https://keycloak-00hq.onrender.com/realms/PiraputangaDev
                    jwk-set-uri: https://keycloak-00hq.onrender.com/realms/PiraputangaDev/protocol/openid-connect/certs

eureka:
  client:
    serviceUrl:
      defaultZone: https://service-discovery.onrender.com/eureka
  instance:
    hostname: https://api-gateway-lzs7.onrender.com